function showPageByItemParam(){UrlArgsHashMap.item&&doShowPageByItemParam(UrlArgsHashMap.item)}function doShowPageByItemParam(e){e=e.replace(/-/g,"");var o="",t="",n="",i="";for(property in itemDescToSkuResolutionInfo)if(itemDescToSkuResolutionInfo[property].sku==e){if(o=itemDescToSkuResolutionInfo[property]["Vendor Color"],t=itemDescToSkuResolutionInfo[property]["Vendor Finish"],i=itemDescToSkuResolutionInfo[property].Configuration,n=itemDescToSkuResolutionInfo[property].Size,i||n);else if(o){idOfImage="#"+o;r=$(idOfImage);hvt.advt.loadImageToGallery(!1,r)}else if(t){idOfImage="#"+t;var r=$(idOfImage);hvt.advt.loadImageToGallery(!1,r)}displayDimensionsPrice(itemDescToSkuResolutionInfo[property]);break}}function updateDimensionsPrice(e){if("multiSelect"==e)displayResolutionInformation();else{e=e.replace(/-/g,"");for(property in itemDescToSkuResolutionInfo)if(itemDescToSkuResolutionInfo[property].sku==e){displayDimensionsPrice(itemDescToSkuResolutionInfo[property]);break}}}function displayResolutionInformation(){var e=",";if(0!=$("#productFabricSelect_1").length&&(e+=$.trim($("#productFabricSelect_1 option:selected").text())+","),0!=$("#productFabricSelect").length&&(e+=$.trim($("#productFabricLabel").text())+","),0!=$("#productFinishSelect_1").length){if(0==$("#productFinishSelect_1").attr("selectedIndex")){var o=imageToolsInfo.selectedFinish;$("#productFinishSelect_1").val(o).attr("selected",!0)}e+=$.trim($("#productFinishSelect_1 option:selected").text())+","}0!=$("#productFinishSelect").length&&(e+=$.trim($("#productFinishLabel").text())+","),0!=$("#productSizeSelect_1").length&&(e+=$.trim($("#productSizeSelect_1 option:selected").text())+","),0!=$("#productSizeSelect").length&&(e+=$.trim($("#productSizeLabel").text())+","),displayDimensionsPrice(itemDescToSkuResolutionInfo[e])}function displayResolutionInformation_notused(){dojo.byId("ProductBuyableFlag").value;if(!imageToolsInfo.hasConfigurations&&null!=itemDescToSkuResolutionInfo){var e=",",o="";0!=$("#productFabricSelect_1").length&&(e+=HVTProductImageTools.getSelectedAttributeText(HVTProductImageTools.ATTRIBUTE_FABRIC)+",",o="Color"),0!=$("#productFinishSelect_1").length&&(e+=HVTProductImageTools.getSelectedAttributeText(HVTProductImageTools.ATTRIBUTE_FINISH)+",",""!=o&&(o+="/"),o+="Finish"),0!=$("#productSizeSelect_1").length&&(e+=HVTProductImageTools.getSelectedAttributeValue(HVTProductImageTools.ATTRIBUTE_SIZE)+",",""!=o&&(o+="/"),o+="Size"),displayDimensionsPrice(itemDescToSkuResolutionInfo[e])}}function outputImageToolsInfo(e){var o='<div id="DebugImageToolsInfo" style="display:none;">';for(property in e)if(o+="&nbsp; &nbsp; &nbsp;    "+property+":",-1!=property.indexOf("Map")){var t=e[property];o+="<br/>";for(property in t)o+="&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;    "+property+":",o+="&nbsp; &nbsp; &nbsp;"+t[property]+" <br/>"}else o+="&nbsp;"+e[property]+" <br/>";o+="</div>",document.write(o)}function outputItemDescToSkuResolutionInfo(e){var o='<div id="DebugSkuResolutionInfo" style="display:none;">';for(property in e){o+="<b>"+property+": </b> <br/>";var t=e[property];for(property in t)o+="&nbsp; &nbsp; &nbsp;    "+property+":",o+="&nbsp;"+t[property]+" <br/>"}o+="</div>",document.write(o)}function outputAllAttributesInfo(e){var o='<div id="DebugAllAttributesInfo" style="display:none;">';for(property in e){o+="<b>"+property.substring(0,property.indexOf("_"))+": </b> ";var t=e[property];for(property in t)o+=t[property];o+=" <br/>"}o+="</div>",document.write(o)}function outputSectionalConfigurationGroup(e){var o='<div id="DebugConfigurationGroup" style="display:none;">';for(property in e)if(o+="&nbsp; &nbsp; &nbsp;    "+property+":",-1!=property.indexOf("Map")){var t=e[property];o+="<br/>";for(property in t)o+="&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;    "+property+":",o+="&nbsp; &nbsp; &nbsp;"+t[property]+" <br/>"}else o+="&nbsp;"+e[property]+" <br/>";o+="</div>",document.write(o)}function updateOtherCart(e){originalID=e.id,mySplitResult=originalID.split("_"),"1"==mySplitResult[1]?idToChange=mySplitResult[0]+"_2":idToChange=mySplitResult[0]+"_1",document.getElementById(idToChange).selectedIndex=document.getElementById(originalID).selectedIndex}function updateOtherQty(e){originalID=e.id,mySplitResult=originalID.split("_"),"1"==mySplitResult[1]?idToChange=mySplitResult[0]+"_2":idToChange=mySplitResult[0]+"_1",document.getElementById(idToChange).value=document.getElementById(originalID).value}function changeImage(e){originalID="#"+e.id,hvt.advt.loadImageToGallery(!0,$("originalID"))}function displayDimensionsPrice(e){if(null==document.getElementById("selectionResolutionSku")&&document.getElementById("configprice"))offerpricerange=itemDescToSkuResolutionInfo[","].offerprice,document.getElementById("configprice").innerHTML="$"+offerpricerange,displayAtlerntateDeliveryInfo();else if(null!=document.getElementById("selectionResolutionSku")){if(e&&"1"==e.buyable){document.getElementById("selectionResolutionSku").innerHTML=e.sku;var o=e.listprice,t=e.offerprice;e.dimensions;return void 0!=e.height&&void 0!=e.width?(document.getElementById("productDimensionSection").style.display="inline",void 0==e.height||""==e.height?document.getElementById("productHeightSection").style.display="none":document.getElementById("selectionResolutionHeight").innerHTML=e.height+'"',void 0==e.width||""==e.width?document.getElementById("productWidthSection").style.display="none":document.getElementById("selectionResolutionWidth").innerHTML=e.width+'"',e.depth&&null!=e.depth&&""!=e.depth.trim()?document.getElementById("selectionResolutionDepth").innerHTML=e.depth+'"':void 0==e.length||""==e.length?document.getElementById("productDepthSection").style.display="none":document.getElementById("selectionResolutionDepth").innerHTML=e.length+'"',void 0==e.weight||""==e.weight?document.getElementById("productWeightSection").style.display="none":document.getElementById("selectionResolutionWeight").innerHTML=e.weight+" lbs"):document.getElementById("productDimensionSection").style.display="none",displayAtlerntateDeliveryInfo(),printPrice(o,t,"offerPriceTagId"),setShoppingAvailabilityDisplay(""),!0}return document.getElementById("selectionResolutionSku").innerHTML="",document.getElementById("selectionResolutionAlternateDelivery").innerHTML="",printPrice("Item Not Available","Item Not Available","offerPriceTagId"),setShoppingAvailabilityDisplay("none"),!1}}function displayAtlerntateDeliveryInfo(){"Y"==itemDescToSkuResolutionInfo[","].alternatedelivery?null!=document.getElementById("selectionResolutionAlternateDelivery")&&(document.getElementById("selectionResolutionAlternateDelivery").style.display="block",document.getElementById("selectionResolutionHavertysDelivery").style.display="none"):null!=document.getElementById("selectionResolutionAlternateDelivery")&&(document.getElementById("selectionResolutionAlternateDelivery").style.display="none",document.getElementById("selectionResolutionHavertysDelivery").style.display="block")}function setShoppingAvailabilityDisplay(e){dojo.byId("AddButtons")&&(document.getElementById("AddButtons").style.display=e),null!=document.getElementById("justToDeliveryAvailabilityTab")&&(document.getElementById("justToDeliveryAvailabilityTab").style.display=e)}function findSkuPriceAndDimensionsForConfig(e,o){if(null!=document.getElementById("POSelect_"+e)){var t=dojo.byId("ProductBuyableFlag").value,n=document.getElementById("POSelect_"+e).value.split("__"),i=n[0],r=n[1],d=n[2],l=n[3],s=n[4],a=n[5],p=n[6],y=n[7];if(document.getElementById("PurchaseOption_"+e).innerHTML="<p>"+i+"</p>",printPrice(r,d,"PurchaseOptionListPrice_"+e,"PurchaseOptionOfferPrice_"+e),"0"!=s&&"0"!=l?(document.getElementById("PurchaseOptionDimensionSection_"+e).style.display="inline","0"==s||""==s?document.getElementById("PurchaseOptionHeight_"+e).style.display="none":document.getElementById("selectionResolutionHeight_"+e).innerHTML=s+'"',"0"==l||""==l?document.getElementById("PurchaseOptionWidth_"+e).style.display="none":document.getElementById("selectionResolutionWidth_"+e).innerHTML=l+'"',"0"==a||""==a?document.getElementById("PurchaseOptionDepth_"+e).style.display="none":document.getElementById("selectionResolutionDepth_"+e).innerHTML=length+'"',"0"==p||""==p?document.getElementById("PurchaseOptionWeight_"+e).style.display="none":document.getElementById("selectionResolutionWeight_"+e).innerHTML=p+"lbs"):document.getElementById("PurchaseOptionDimensionSection_"+e).style.display="none",o){if(document.getElementById("productFabricSelect")){setColorOnPurchaseOptions(HVTProductImageTools.ATTRIBUTE_FABRIC,e)}if(document.getElementById("productFinishSelect")){setColorOnPurchaseOptions(HVTProductImageTools.ATTRIBUTE_FINISH,e)}}"0"==y||"0"==t?(dojo.byId("PurchaseOptionQuantity_"+e).style.display="none",document.getElementById("PurchaseOptionListPrice_"+e).innerHTML="",document.getElementById("PurchaseOptionOfferPrice_"+e).innerHTML="",dojo.byId("hvtCartBtnC_"+e)&&(dojo.byId("hvtCartBtnC_"+e).style.display="none"),dojo.byId("hvtWishListBtnC_"+e)&&(dojo.byId("hvtWishListBtnC_"+e).style.display="none")):(dojo.byId("PurchaseOptionQuantity_"+e).style.display="",dojo.byId("hvtWishListBtnC_"+e)&&(dojo.byId("hvtWishListBtnC_"+e).style.display=""),dojo.byId("hvtCartBtnC_"+e)&&(dojo.byId("hvtCartBtnC_"+e).style.display=""))}}function findSkuAndPriceForConfig(e,o){var t=dojo.byId("ProductBuyableFlag").value;if(null!=document.getElementById("POSelect_"+e)){var n=document.getElementById("POSelect_"+e).value.split("__"),i=n[0],r=n[1],d=n[2],l=n[3];document.getElementById("PurchaseOption_"+e).innerHTML=i,printPrice(r,d,"PurchaseOptionListPrice_"+e,"PurchaseOptionOfferPrice_"+e),"0"==l||"0"==t?(dojo.byId("PurchaseOptionQuantity_"+e).style.display="none",document.getElementById("PurchaseOptionListPrice_"+e).innerHTML="",document.getElementById("PurchaseOptionOfferPrice_"+e).innerHTML="",dojo.byId("hvtCartBtnC_"+e)&&(dojo.byId("hvtCartBtnC_"+e).style.display="none"),dojo.byId("hvtWishListBtnC_"+e)&&(dojo.byId("hvtWishListBtnC_"+e).style.display="none")):(dojo.byId("PurchaseOptionQuantity_"+e).style.display="",dojo.byId("hvtWishListBtnC_"+e)&&(dojo.byId("hvtWishListBtnC_"+e).style.display=""),dojo.byId("hvtCartBtnC_"+e)&&(dojo.byId("hvtCartBtnC_"+e).style.display=""))}}function setColorOnPurchaseOptions(e,o){var t=HVTProductImageTools.getSelectedAttributeText(e),n=document.getElementById("POSelect_"+o);if(n.options)for(var i=0;i<n.options.length;i++)if(n.options[i].text==t){n.selectedIndex=i;break}}function printPrice(e,o,t,n){document.getElementById("configprice")?(offerpricerange=itemDescToSkuResolutionInfo[","].offerprice,document.getElementById("configprice").innerHTML="$"+offerpricerange):(document.getElementById("topprice").style.display="none",document.getElementById("toppricewithwas").style.display="none","Item Not Available"==o?document.getElementById(t).innerHTML="":e==o?(null!=document.getElementById(t)&&(document.getElementById(t).innerHTML="$"+o),null!=document.getElementById("topprice")&&(document.getElementById("topprice").innerHTML="$"+o,document.getElementById("topprice").style.display="block")):(null!=document.getElementById(t)&&(document.getElementById(t).innerHTML="$"+o),null!=document.getElementById("toppricewithwas")&&(document.getElementById("toppricewithwas").innerHTML="<sup>$</sup>"+o+"<span>was <sup>$</sup>"+e+"</span>",document.getElementById("toppricewithwas").style.display="block")))}function popupMap(e,o,t){var n=e.substring(0,1)+"-"+e.substring(1,5)+"-"+e.substring(5),i=t+"&location="+dojo.byId("whereZipFindInStore").value+"&itemId="+n;null!=o&&(i+="&selectedStoreId="+o);var r=window.open(i,"popup","menubar=no,toolbar=no,location=yes,directories=yes,status=yes,scrollbars=yes,resizable=no,width=auto,height=625");r&&r.focus()}function changeWhereWhenZip(){dojo.byId("wherewhenNoZip").style.display="block",dojo.byId("wherewhenWithZip").style.display="none",dojo.byId("whenNoZip").style.display="block",dojo.byId("whenWithZip").style.display="none"}function displayTab(e){dojo.widget.byId("mainTabContainer").selectTab(dojo.widget.byId(e));var o=window.location.href.split("#");window.location.href=o[0]+"#wheretoseeit"}function displayDeliveryAvailabilityInfo(e,o,t){dojo.byId("whenNoZipBtn").disabled=!1,dojo.byId("wherewhenNoZipResult").innerHTML="",dojo.byId("wherewhenNoZipResult").style.display="none",dojo.byId("whenNoZipResultTop").innerHTML="";var n=!1;if(null!=o)if(debugAlternateDelivery(o,itemAlternateDeliveryInfo),"900"==o.returnCode)footprint="No",dojo.byId("whenNoZipResult").innerHTML="<br/><span class='H5_1'>"+WCG_NON_HOME_DELV_AREA+"&nbsp;"+dojo.byId("groupProductName").innerHTML+".</span>";else if("901"==o.returnCode&&"H"==productShipping)footprint="Alt",dojo.byId("whenNoZipResult").innerHTML="<br/><span class='H5_1'>"+WCG_NON_LMTD_DELV_AREA+"&nbsp;"+dojo.byId("groupProductName").innerHTML+".</span>";else if("904"==o.returnCode)footprint="Alt",dojo.byId("whenNoZipResult").innerHTML="<br/><span class='H5_1'>"+WCG_NON_HOME_DELV_AREA+"&nbsp;"+dojo.byId("groupProductName").innerHTML+".</span>";else if("902"==o.returnCode)footprint="No",dojo.byId("whenNoZipResult").innerHTML="<br/><span class='H5_1'>"+WCG_NON_LMTD_DELV_AREA+"&nbsp;"+dojo.byId("groupProductName").innerHTML+".</span>";else if(o.returnCode==SERVICE_MAINTENANCE_ACTIVE_RETURN_CODE)dojo.byId("whenNoZipResult").innerHTML="<br/><span class='H5_1'>"+o[SERVICE_MAINTENANCE_MESSAGE_IDENTIFIER]+"</span>";else if("0"==o.returnCode||"901"==o.returnCode&&"H"!=productShipping||"904"==o.returnCode&&"H"!=productShipping){n=!0,dojo.byId("whenNoZip").style.display="none",dojo.byId("whenWithZip").style.display="block",dojo.byId("whenNoZipResult").innerHTML="",dojo.byId("wherewhenNoZip").style.display="none",dojo.byId("wherewhenWithZip").style.display="block",dojo.byId("wherewhenNoZipResult").innerHTML="";var i=dojo.byId("DeliveryDateForEachItemCSVList").innerHTML.split(","),r="";"901"==o.returnCode||"904"==o.returnCode?footprint="Alt":"0"==o.returnCode?footprint="Yes":dojo.byId("whenNoZipResult").innerHTML='<br/><span class="H5_1">'+WTS_NO_INFO_AVAIL+"</span>";for(var d=0;d<i.length;d++)if(""!=(r=i[d])){"Alt"==footprint?(dojo.byId("InYourHome").innerHTML="It could ship as soon as:",void 0!=dojo.byId("InYourHome2")&&(dojo.byId("InYourHome2").innerHTML="It could ship as soon as:"),dojo.byId("Hdelivery_"+r).style.display="none"):("Item not available in your area"==o[r]&&"Item not available in your area"!=o[r+"_alt"]&&void 0!=o[r+"_alt"]?(dojo.byId("ImgdeliveryStatus_"+r).src="/wcsstore/Havertys/images/blank.gif",dojo.byId("deliveryStatus_"+r).innerHTML=fedexonlylang):(dojo.byId("deliveryStatus_"+r).innerHTML=o[r],allAlternateDeliveryOnly=!1),dojo.byId("Hdelivery_"+r).style.display="block"),key=r+"_alt";void 0==o[key]?dojo.byId("Adelivery_"+r).style.display="none":(dojo.byId("Adelivery_"+r).style.display="block",dojo.byId("AltdeliveryStatus_"+r).innerHTML=o[key]),"Y"!=itemAlternateDeliveryInfo[r]&&(dojo.byId("ImgAltdeliveryStatus_"+r).src="/wcsstore/Havertys/images/blank.gif","Alt"==footprint?dojo.byId("AltdeliveryStatus_"+r).innerHTML=trucknotavail:dojo.byId("AltdeliveryStatus_"+r).innerHTML=truckonlylang)}dojo.byId("YesTrueA").style.display&&(dojo.byId("YesTrueA").style.display="none"),dojo.byId("YesFalseA").style.display&&(dojo.byId("YesFalseA").style.display="none"),dojo.byId("AltA").style.display&&(dojo.byId("AltA").style.display="none"),dojo.byId("AltOnly").style.display&&(dojo.byId("AltOnly").style.display="none"),"H"!=productShipping&&("Yes"==footprint?altDeliveryAvailable?allAlternateDeliveryOnly?dojo.byId("AltOnly").style.display="block":dojo.byId("YesTrueA").style.display="block":dojo.byId("YesFalseA").style.display="block":allAlternateDeliveryOnly?dojo.byId("AltOnly").style.display="block":dojo.byId("AltA").style.display="block")}else dojo.byId("whenNoZipResult").innerHTML="<br/><span class='H5_1'>  An unexpected error was returned from the service that determines item availability dates.  Error code = "+o.returnCode+"</span>";else dojo.byId("whenNoZipResult").innerHTML="<br/><span class='H5_1'>  No data was returned from the service that determines item availability dates.  </span>";n||changeWhereWhenZip()}function debugAlternateDelivery(e,o){var t="";for(property in o)t+=property+":",t+="&nbsp;"+o[property]+" <br/>";var n="",i="",r="";for(property in e)-1!=property.indexOf("returnCode")?(r+=property+":",r+="&nbsp;"+e[property]+" <br/>"):-1!=property.indexOf("stocking")?(i+=property+":",i+="&nbsp;"+e[property]+" <br/>"):(n+=property+":",n+="&nbsp;"+e[property]+" <br/>");debuginfo="productShipping:"+productShipping+"<br/>"+r+n+t+i,dojo.byId("DebugAlternateDeliveryInfo").innerHTML=debuginfo}function removeClosedStores(e){if(e&&e.stores)for(var o=dojo.byId("StoresForItemsCSVList").innerHTML.split(","),t="",n=0;n<o.length;n++)if(""!=(t=o[n]))for(var i=e.storeIds.length-1;i>=0;i--)0!=e.skus[t].inventory[i]||e.stores[e.storeIds[i]].name||e.storeIds.splice(i,1)}function displayStoresForItemsInfo(e,o,t){if(dojo.byId("whereNoZipBtn").disabled=!1,dojo.byId("whereNoZipResult").innerHTML="",dojo.byId("whereNoZipResultTop").innerHTML="",0==o){var n="",i=t.response;i.indexOf("returncode is")>=0&&(n=$.trim(i.split("returncode is")[1]),hiddenrc=" <span style='color:white'> return code:"+n+"</span>"),300==n?(milesSelected=$("#radiusScope").val(),dojo.byId("whereNoZipResult").innerHTML="<span class='H5_1'>"+WTS_NO_STORES_IN_AREA_1+" "+milesSelected+" "+WTS_NO_STORES_IN_AREA_2+" "+document.getElementById("whereZip").value+".</span>"):dojo.byId("whereNoZipResult").innerHTML="<span class='H5_1'>"+ERROR_ZIP_CODE_DELIVERY+"</span>"+hiddenrc,dojo.byId("whereWithZip").style.display="none",dojo.byId("whereNoZipResultTop").innerHTML=""}if(null!=o){if(removeClosedStores(o),900==o.returnCode)dojo.byId("whereNoZipResult").innerHTML="<br /><span class='H5_1'>"+ENTER_VALID_ZIP+"</span>";else if(o.returnCode==SERVICE_MAINTENANCE_ACTIVE_RETURN_CODE)dojo.byId("whereNoZipResult").innerHTML="<br/><span class='H5_1'>"+o[SERVICE_MAINTENANCE_MESSAGE_IDENTIFIER]+"</span>";else if(0==o.returnCode){if(0==o.storeIds.length)return void(dojo.byId("whereNoZipResult").innerHTML="<br /><span class='H5_1'>"+WTS_NO_LOCS_FOUND+"&nbsp;"+document.getElementById("whereZip").value+".</span>");storesForItemsData=o,dojo.byId("whereWithZip").style.display="block",o.initialRadiusScope<o.newRadiusScope?(dojo.byId("scopeResult").innerHTML="<span class='H5_1_RED'>"+WTS_NO_STORES_IN_AREA_1+" "+o.initialRadiusScope+" "+WTS_NO_STORES_IN_AREA_2+" "+document.getElementById("whereZip").value+WTS_NO_STORES_IN_AREA_3+" "+o.newRadiusScope+" "+WTS_NO_STORES_IN_AREA_4+"</span>",dojo.byId("radiusScope").value=o.newRadiusScope):dojo.byId("scopeResult").innerHTML="";for(var r=dojo.byId("StoresForItemsCSVList").innerHTML.split(","),d="",l=0;l<r.length;l++)if(""!=(d=r[l])){for(var s=0;s<WHERE_TO_SEE_MAX_STORE_COUNT;s++)document.getElementById("location_"+d+"_"+s).style.display="none",document.getElementById("locationdistance_"+d+"_"+s).style.display="none";for(var a=0;a<o.storeIds.length;a++)document.getElementById("location_"+d+"_"+a).style.display="block",document.getElementById("locationdistance_"+d+"_"+a).style.display="block",popuplateItemDivWithStoreInfo(d,a,o)}}}else dojo.byId("whereNoZipResult").innerHTML='<br /><span class="H5_1">'+WTS_NO_INFO_AVAIL+"</span>"}function disableLinkElement(e){dojo.byId(e).href="javascript:function(){}",dojo.byId(e).onclick="return false;",dojo.byId(e).style.cursor="default",dojo.byId(e).style.textDecoration="none"}function popuplateItemDivWithStoreInfo(e,o,t){var n=t.storeIds[o],i=t.skus[e].inventory[o],r=dojo.byId("location_"+e+"_"+o),d=dojo.byId("locationdistance_"+e+"_"+o),l=dojo.byId("name_"+e).value;t.skus[e].name=l;var s=getStoresForItemsItemInventoryText(i);r.innerHTML=i>0?s+"&nbsp;<span >"+t.stores[t.storeIds[o]].name+'</span>&nbsp;<a class="smalltext" href="javascript:popupMap(\''+e+"','"+l+"','"+n+"');\" >(Details & Map)</a>":s+"&nbsp;"+t.stores[t.storeIds[o]].name+"&nbsp;"+WTS_NOT_AT_THIS_LOC,d.innerHTML="<span  >~ "+t.stores[t.storeIds[o]].distance+" mi</span>"}function getStoresForItemsItemInventoryText(e){return 0==e?'<img src="'+IMAGES_DIR+'images/WhereFail.jpg" />':'<img src="'+IMAGES_DIR+'images/WherePass.jpg" />'}function ajaxGetStoresAndDeliveryInfo(e,o){var t=dojo.byId(e).value;t==ENTER_ZIP_CODE&&(t="",dojo.byId(e).focus()),t=t.substring(0,5);var n="<span class='H5_1'>"+EMPTY_ZIP_CODE+"</span>",i="<span class='H5_1'>"+ENTER_VALID_ZIP+"</span>",r="<span class='H5_1_RED'>"+PLEASE_WAIT+"</span>";if("wherewhenZip"==e){var d=window.location.href.split("#");window.location.href=d[0]+"#wheretoseeit",dojo.widget.byId("mainTabContainer").selectTab(dojo.widget.byId("tab4"))}if(o&&(dojo.byId("storesForItemsForm").callSourceId.value=o),dojo.byId("findClosestStore").style.display="none",dojo.byId("whereWithZip").style.display="none",dojo.byId("wherewhenZip").value=t,dojo.byId("whereZip").value=t,dojo.byId("whenZip").value=t,dojo.byId("whereDistanceZipCode").innerHTML=WTS_DISTANCE+"&nbsp;"+t+":",dojo.byId("whereDistanceZipCode1").innerHTML=WTS_DISTANCE+"&nbsp;"+t+":",dojo.byId("wherewhenWithZipResult").innerHTML=t,dojo.byId("whenWithZipResult").innerHTML=t,dojo.byId("storesForItemsForm").storesForItemsZipCode.value=t,dojo.byId("zipcodeDeliveryAreaForm").ZipCode.value=t,dojo.byId("storesForItemsForm").items.value=dojo.byId("StoresForItemsCSVList").innerHTML,dojo.byId("storesForItemsForm").alternateItems.value=dojo.byId("StoresForItemsAltItemsCSVList").innerHTML,dojo.byId("storesForItemsForm").radii.value=dojo.byId("radiusScope").value,dojo.byId("deliveryAvailabilityForm").deliverydateforeachitemZipCode.value=t,dojo.byId("deliveryAvailabilityForm").items.value=dojo.byId("DeliveryDateForEachItemCSVList").innerHTML,""==t)return dojo.byId("wherewhenNoZipResult").innerHTML=n,dojo.byId("whereNoZipResult").innerHTML=n,void(dojo.byId("whenNoZipResult").innerHTML=n);if(!isInteger(t)||5!=t.length)return dojo.byId("wherewhenNoZipResult").innerHTML=i,dojo.byId("whereNoZipResult").innerHTML=i,void(dojo.byId("whenNoZipResult").innerHTML=i);dojo.io.cookie.deleteCookie("zip"),t&&(t=t.replace(/^\s+|\s+$/g,"")),dojo.io.cookie.setCookie("zip",t,30,"/"),dojo.byId("whereNoZipBtn").disabled=!0,dojo.byId("whenNoZipBtn").disabled=!0,dojo.byId("whereNoZipResultTop").innerHTML=r,dojo.byId("whenNoZipResultTop").innerHTML=r;var l={url:"StoresForItemsCmd",formNode:dojo.byId("storesForItemsForm"),mimetype:"text/json",method:"POST",error:function(e,o){dojo.byId("whereNoZipResult").innerHTML="<span class='H5_1'>"+ERROR_ZIP_CODE_DELIVERY+"</span>",dojo.byId("whereWithZip").style.display="none",dojo.byId("whereNoZipResultTop").innerHTML=""},timeoutSeconds:20,timeout:function(e,o,t){dojo.byId("whereNoZipResult").innerHTML="<span class='H5_1'>"+TIMEOUT_ZIP_CODE_DELIVERY+"</span>",dojo.byId("whereNoZipBtn").disabled=!1,dojo.byId("whereNoZipResultTop").innerHTML=""}},s=dojo.io.bind(l);dojo.event.connect(s,"load",this,"displayStoresForItemsInfo"),retrieveDeliveryForEachItem(this,o)}function retrieveDeliveryForEachItem(e,o){o&&(dojo.byId("deliveryAvailabilityForm").callSourceId.value=o);var t={url:"DeliveryAvailabilityCmd",formNode:dojo.byId("deliveryAvailabilityForm"),mimetype:"text/json",method:"POST",error:function(e,o){dojo.byId("wherewhenNoZipResult").innerHTML="",dojo.byId("whenNoZipResult").innerHTML="<span class='H5_1'>"+ERROR_ZIP_CODE_DELIVERY+"</span>",dojo.byId("whenNoZipBtn").disabled=!1,dojo.byId("whenNoZipResultTop").innerHTML=""},timeoutSeconds:20,timeout:function(e,o,t){dojo.byId("wherewhenNoZipResult").innerHTML="",dojo.byId("whenNoZipResult").innerHTML="<span class='H5_1'>"+TIMEOUT_ZIP_CODE_DELIVERY+"</span>",dojo.byId("whenNoZipBtn").disabled=!1,dojo.byId("whenNoZipResultTop").innerHTML=""}},n=dojo.io.bind(t);dojo.event.connect(n,"load",e,"displayDeliveryAvailabilityInfo")}function initAjaxForGroupProductPage(){dojo.event.connect(dojo.byId("wherewhenNoZipBtn"),"onclick",function(){ajaxGetStoresAndDeliveryInfo("wherewhenZip","wherewhenNoZipBtn.onclick")});var e=dojo.widget.byId("mainTabContainer");dojo.event.connect(e,"selectChild",function(o){var t=e.selectedChildWidget.label;if(cm_runonce?cmCreatePageElementTag(document.title,t):cm_runonce="already ran",zip=dojo.io.cookie.getCookie("zip"),"Where To See It"==t){var n=dojo.byId("whereNoZip"),i=n&&"none"!=n.style.display,r=dojo.byId("whereZip"),d=r&&r.value==ENTER_ZIP_CODE;i&&d&&null!=zip&&(dojo.byId("whereZip").value=zip,ajaxGetStoresAndDeliveryInfo("whereZip",window.location.pathname+".initAjaxForGroupProductPage.WhereToSeeIt"))}"Availability"==t&&"none"!=dojo.byId("whenNoZip").style.display&&dojo.byId("whenZip").value==ENTER_ZIP_CODE&&null!=zip&&(dojo.byId("whenZip").value=zip,ajaxGetStoresAndDeliveryInfo("whenZip",window.location.pathname+".initAjaxForGroupProductPage.Availability"))}),dojo.byId("mainTabContainer").style.display="block",hvtSelectInitialTab()}function hvtSelectInitialTab(){readUrlParams(),dojo.byId("tab3")&&UrlArgsHashMap.review&&"yes"==UrlArgsHashMap.review&&hvtSelectTab("tab3"),dojo.byId("tab4")&&UrlArgsHashMap.ask&&"yes"==UrlArgsHashMap.ask&&hvtSelectTab("tab4"),window.setTimeout("hvtSelectTab(hvtGetTabContainer().selectedChild)",0)}function hvtGetTabContainer(){return dojo.widget.byId("mainTabContainer")}function hvtSelectTab(e){"string"==typeof e&&(e=dojo.widget.byId(e)),hvtGetTabContainer().selectTab(e)}function getZipCodeWhereToSeeResults(e,o,t){var n=null;return o.which?n=o.which:o.keyCode&&(n=o.keyCode),13!=n||(t&&(t+="."+e+".getZipCodeWhereToSeeResults"),ajaxGetStoresAndDeliveryInfo(e,t),!1)}function setHiddenField(e){dojo.byId("quickLookForm").productId.value=e}function showHideQuickLook(e){var o=dojo.byId("quicklookdivs_"+e).style.display;dojo.byId("quicklookdivs_"+e).style.display="block"==o?"none":"block"}function readUrlParams(){var paramHashMap={},paramSplitArr,evalArgs="curIndex,resultCount",mapArgs="review,item,ask",queryString=window.location.href.substring(1).split("#")[0],url=queryString;queryString.indexOf("?")>=0&&(url=queryString.split("?")[0],queryString=queryString.split("?")[1]);var _separatedUrlParams=url.split("_");if(_separatedUrlParams.length>=8&&(paramHashMap.resultCount=_separatedUrlParams[6],paramHashMap.curIndex=_separatedUrlParams[7]),queryString)for(var params=queryString.split("&"),i=0;i<params.length;i++)paramSplitArr=params[i].split("="),evalArgs.indexOf(paramSplitArr[0])>=0?paramHashMap[paramSplitArr[0]]=eval(paramSplitArr[1]):mapArgs.indexOf(paramSplitArr[0])>=0&&(paramHashMap[paramSplitArr[0]]=paramSplitArr[1]);UrlArgsHashMap=paramHashMap}function setupPreviousNext(){readUrlParams();var e=UrlArgsHashMap,o=e.resultCount,t=e.curIndex,n=dojo.io.cookie.getCookie("ip_state"),i=dojo.byId("paginationForm");if(i){i.curIndex.value=t,i.resultCount.value=o,i.ip_state.value=n;o&&(t>0?dojo.byId("previousLink").style.display="":dojo.byId("previousNotALink").style.display="",t<o-1?dojo.byId("nextLink").style.display="":dojo.byId("nextNotALink").style.display="")}}function goPrevious(){dojo.byId("paginationForm").curIndex.value=UrlArgsHashMap.curIndex-1,dojo.byId("paginationForm").submit()}function goNext(){dojo.byId("paginationForm").curIndex.value=UrlArgsHashMap.curIndex+1,dojo.byId("paginationForm").submit()}function togglePic(e){if(document.getElementById){if(void 0===document.getElementById("desc").childNodes[0]){var o=document.createTextNode(" ");document.getElementById("desc").appendChild(o)}return previouspic==e.src?(document.getElementById("placeholder").src="/wcsstore/Havertys/Images/blank.gif",document.getElementById("desc").childNodes[0].nodeValue="",previouspic=null):(document.getElementById("placeholder").src=e.src,e.title?document.getElementById("desc").childNodes[0].nodeValue=e.title:document.getElementById("desc").childNodes[0].nodeValue="",previouspic=e.src),!1}return!0}function retryPhoto(){imgWidth=$("#gallery .photo img").width(),imgHeight=$("#gallery .photo img").height(),adjustPhoto(imgHeight,imgWidth),$("#gallery .photo img").show()}function retryImg(e){var o=e.src.split("&hei=")[1];if(o){if(o>200){t=o-100;s=e.src.split("&hei=")[0],e.src=s+"&hei="+t}}else if(e.src.split("&wid=")[1]){s=e.src.split("&wid=")[0];var t=490;e.src=s+"&hei="+t}}storesForItemsData={};var distanceSelector={35:"35,100,250",100:"100,250",250:"250"},REVIEWING,CATEGORY,COREPN,UrlArgsHashMap={},allAlternateDeliveryOnly=!0;self.HavertysBundleProductPages||(self.HavertysBundleProductPages={});var cm_runonce;HavertysBundleProductPages.initAvailability=function(){dojo.event.connect(dojo.byId("whenNoZipBtn"),"onclick",function(){ajaxGetStoresAndDeliveryInfo("whenZip","whenNoZipBtn.onclick")})},HavertysBundleProductPages.initWhereToSeeIt=function(){dojo.event.connect(dojo.byId("whereNoZipBtn"),"onclick",function(){ajaxGetStoresAndDeliveryInfo("whereZip","whereNoZipBtn.onclick")})},HavertysBundleProductPages.initBenefits=function(){jQuery(".snippet").each(HavertysBundleProductPages.checkOneSnippet)},HavertysBundleProductPages.checkOneSnippet=function(){var e=this.innerHTML.replace("#country#",countryOfOrigin);this.innerHTML=e},HavertysBundleProductPages.initQuickLook=function(){var e=this.id.split("_")[1],o=this.innerHTML;jQuery("#multicol").append(jQuery("#quicklookdivs_"+e)),com.havertys.initialize(e,o)},HavertysBundleProductPages.initAllQuickLooks=function(){jQuery(".qlInit").each(HavertysBundleProductPages.initQuickLook)},HavertysBundleProductPages.loadTabs=function(){dojo.byId("mainTabContainer").style.display="block";var e={"See The Entire Collection":{url:"OtherProductsTabCmd",afterLoad:HavertysBundleProductPages.initAllQuickLooks},"Product Benefits":{url:"BenefitsTabCmd",afterLoad:HavertysBundleProductPages.initBenefits},"Where To See It":{url:"WhereToSeeItTabCmd",afterLoad:HavertysBundleProductPages.initWhereToSeeIt},Availability:{url:"AvailabilityTabCmd",afterLoad:HavertysBundleProductPages.initAvailability}},o=dojo.byId("productTabForm");if(o){var t=dojo.widget.byId("mainTabContainer");if(t)for(var n=0;n<t.children.length;n++){var i=t.children[n];i.label in e&&$.ajax({url:e[i.label].url,data:$(o).serialize(),dataType:"html",type:"POST",timeout:12e4,domNode:i.domNode,afterLoad:e[i.label].afterLoad,error:function(e,o,t){var n=o;t&&(n+=": "+t),console.log(n)},success:function(e){$(this.domNode).html(e),this.afterLoad&&setTimeout(this.afterLoad,0)}})}}else for(label in e){var r=e[label];if(r.afterLoad)try{r.afterLoad()}catch(e){}}},dojo.addOnLoad(initAjaxForGroupProductPage),dojo.addOnLoad(HavertysBundleProductPages.loadTabs),dojo.addOnLoad(function(){var e=document.getElementById("tab3");e&&(e.style.position="")});var previouspic=null;